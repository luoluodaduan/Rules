# update at 2026-02-04 06:59:01
[General]
bypass-system = true
skip-proxy = 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
always-reject-url-rewrite = false
dns-direct-fallback-proxy = true
dns-direct-system = false
icmp-auto-reply = true
ipv6 = true
prefer-ipv6 = false
private-ip-answer = true
udp-policy-not-supported-behaviour = REJECT

dns-server = 192.168.2.1
include = private.conf
update-url = https://gh-proxy.org/https://raw.githubusercontent.com/luoluodaduan/Rules/main/gen/white-tiktok.conf
[Rule]
DOMAIN,miwifi.com,DIRECT
DOMAIN,www.miwifi.com,DIRECT
DOMAIN-SUFFIX,example,DIRECT
DOMAIN-SUFFIX,home.arpa,DIRECT
DOMAIN-SUFFIX,invalid,DIRECT
DOMAIN-SUFFIX,ip6-localhost,DIRECT
DOMAIN-SUFFIX,ip6-loopback,DIRECT
DOMAIN-SUFFIX,lan,DIRECT
DOMAIN-SUFFIX,local,DIRECT
DOMAIN-SUFFIX,localdomain,DIRECT
DOMAIN-SUFFIX,localhost,DIRECT
DOMAIN-SUFFIX,localhost.ptlogin2.qq.com,DIRECT
DOMAIN-SUFFIX,localhost.sec.qq.com,DIRECT
DOMAIN-SUFFIX,msftconnecttest.com,DIRECT
DOMAIN-SUFFIX,msftncsi.com,DIRECT
DOMAIN-SUFFIX,my.router,DIRECT
DOMAIN-SUFFIX,router.ctc,DIRECT
DOMAIN-SUFFIX,test,DIRECT
IP-CIDR,0.0.0.0/8,DIRECT,no-resolve
IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
IP-CIDR,100.64.0.0/10,DIRECT,no-resolve
IP-CIDR,127.0.0.0/8,DIRECT,no-resolve
IP-CIDR,169.254.0.0/16,DIRECT,no-resolve
IP-CIDR,172.16.0.0/12,DIRECT,no-resolve
IP-CIDR,192.0.0.0/24,DIRECT,no-resolve
IP-CIDR,192.0.2.0/24,DIRECT,no-resolve
IP-CIDR,192.88.99.0/24,DIRECT,no-resolve
IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
IP-CIDR,198.18.0.0/15,DIRECT,no-resolve
IP-CIDR,198.51.100.0/24,DIRECT,no-resolve
IP-CIDR,203.0.113.0/24,DIRECT,no-resolve
IP-CIDR,224.0.0.0/4,DIRECT,no-resolve
IP-CIDR,240.0.0.0/4,DIRECT,no-resolve
IP-CIDR,255.255.255.255/32,DIRECT,no-resolve
IP-CIDR,::/127,DIRECT,no-resolve
IP-CIDR,fc00::/7,DIRECT,no-resolve
IP-CIDR,fe80::/10,DIRECT,no-resolve
IP-CIDR,ff00::/8,DIRECT,no-resolve

DOMAIN-KEYWORD,adservice,REJECT
DOMAIN-KEYWORD,advertisement,REJECT
DOMAIN-KEYWORD,advertising,REJECT
DOMAIN-KEYWORD,commercial,REJECT
DOMAIN-KEYWORD,guanggao,REJECT
DOMAIN-KEYWORD,blogspot,PROXY
DOMAIN-KEYWORD,discord,PROXY
DOMAIN-KEYWORD,facebook,PROXY
DOMAIN-KEYWORD,flickr,PROXY
DOMAIN-KEYWORD,google,PROXY
DOMAIN-KEYWORD,instagram,PROXY
DOMAIN-KEYWORD,netflix,PROXY
DOMAIN-KEYWORD,pinterest,PROXY
DOMAIN-KEYWORD,porn,PROXY
DOMAIN-KEYWORD,telegram,PROXY
DOMAIN-KEYWORD,twitch,PROXY
DOMAIN-KEYWORD,twitter,PROXY
DOMAIN-KEYWORD,whatsapp,PROXY
DOMAIN-KEYWORD,wikileaks,PROXY
DOMAIN-KEYWORD,wikipedia,PROXY
DOMAIN-KEYWORD,yahoo,PROXY
DOMAIN-KEYWORD,youtube,PROXY
DOMAIN-SUFFIX,163yun.com,NMUSIC
DOMAIN-SUFFIX,api.iplay.163.com,NMUSIC
DOMAIN-SUFFIX,httpdns.n.netease.com,NMUSIC
DOMAIN-SUFFIX,hz.netease.com,NMUSIC
DOMAIN-SUFFIX,mam.netease.com,NMUSIC
DOMAIN-SUFFIX,music.126.com,NMUSIC
DOMAIN-SUFFIX,music.126.net,NMUSIC
DOMAIN-SUFFIX,music.163.com,NMUSIC
DOMAIN-SUFFIX,music.163.com.163jiasu.com,NMUSIC
DOMAIN-SUFFIX,music.httpdns.c.163.com,NMUSIC
USER-AGENT,%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90*,NMUSIC
USER-AGENT,NeteaseMusic*,NMUSIC
IP-CIDR,114.114.114.114/32,DIRECT,no-resolve
IP-CIDR,119.29.29.29/32,DIRECT,no-resolve
IP-CIDR,223.5.5.5/32,DIRECT,no-resolve

DOMAIN,p16-tiktokcdn-com.akamaized.net,PROXY
DOMAIN-KEYWORD,-tiktokcdn-com,PROXY
DOMAIN-SUFFIX,byteoversea.com,PROXY
DOMAIN-SUFFIX,ibytedtos.com,PROXY
DOMAIN-SUFFIX,ibyteimg.com,PROXY
DOMAIN-SUFFIX,ipstatp.com,PROXY
DOMAIN-SUFFIX,muscdn.com,PROXY
DOMAIN-SUFFIX,musical.ly,PROXY
DOMAIN-SUFFIX,sgpstatp.com,PROXY
DOMAIN-SUFFIX,snssdk.com,PROXY
DOMAIN-SUFFIX,tik-tokapi.com,PROXY
DOMAIN-SUFFIX,tiktok.com,PROXY
DOMAIN-SUFFIX,tiktokcdn.com,PROXY
DOMAIN-SUFFIX,tiktokv.com,PROXY
USER-AGENT,TikTok*,PROXY

DOMAIN-SET,https://gh-proxy.org/https://raw.githubusercontent.com/luoluodaduan/Rules/main/gen/direct.txt,DIRECT
DOMAIN-SET,https://gh-proxy.org/https://raw.githubusercontent.com/luoluodaduan/Rules/main/gen/proxy.txt,PROXY
IP-CIDR,149.154.160.0/20,PROXY,no-resolve
IP-CIDR,185.76.151.0/24,PROXY,no-resolve
IP-CIDR,2001:67c:4e8::/48,PROXY,no-resolve
IP-CIDR,2001:b28:f23c::/48,PROXY,no-resolve
IP-CIDR,2001:b28:f23d::/48,PROXY,no-resolve
IP-CIDR,2001:b28:f23f::/48,PROXY,no-resolve
IP-CIDR,2a0a:f280::/32,PROXY,no-resolve
IP-CIDR,91.105.192.0/23,PROXY,no-resolve
IP-CIDR,91.108.12.0/22,PROXY,no-resolve
IP-CIDR,91.108.16.0/22,PROXY,no-resolve
IP-CIDR,91.108.20.0/22,PROXY,no-resolve
IP-CIDR,91.108.4.0/22,PROXY,no-resolve
IP-CIDR,91.108.56.0/22,PROXY,no-resolve
IP-CIDR,91.108.8.0/22,PROXY,no-resolve

RULE-SET,https://gh-proxy.org/https://raw.githubusercontent.com/luoluodaduan/Rules/main/gen/cnip.txt,DIRECT,no-resolve
FINAL,PROXY
[Host]
localhost = 127.0.0.1
[URL Rewrite]
# Google
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?:\/\/(ditu|maps)\.google\.cn https://maps.google.com 302
# YouTube AD
ctier=[A-Z] citer=A 302
^https:\/\/[\s\S]*\.googlevideo\.com/.*&(oad|ctier) - REJECT
# TikTok
(?<=_region=)CN(?=&) AR 307
(?<=_region=)CN(?=&) BR 307
(?<=_region=)CN(?=&) DE 307
(?<=_region=)CN(?=&) ES 307
(?<=_region=)CN(?=&) FR 307
(?<=_region=)CN(?=&) IN 307
(?<=_region=)CN(?=&) JP 307
(?<=_region=)CN(?=&) KR 307
(?<=_region=)CN(?=&) MX 307
(?<=_region=)CN(?=&) MY 307
(?<=_region=)CN(?=&) PH 307
(?<=_region=)CN(?=&) RU 307
(?<=_region=)CN(?=&) SG 307
(?<=_region=)CN(?=&) TH 307
(?<=_region=)CN(?=&) TR 307
(?<=_region=)CN(?=&) TW 307
(?<=_region=)CN(?=&) UK 307
(?<=_region=)CN(?=&) US 307
(?<=_region=)CN(?=&) VN 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302

